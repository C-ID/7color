{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ethereum_types_1 = require(\"ethereum-types\");\n\nvar ethUtil = require(\"ethereumjs-util\");\n\nvar configured_bignumber_1 = require(\"../../configured_bignumber\");\n\nvar blob_1 = require(\"../abstract_data_types/types/blob\");\n\nvar constants_1 = require(\"../utils/constants\");\n\nvar BoolDataType =\n/** @class */\nfunction (_super) {\n  __extends(BoolDataType, _super);\n\n  function BoolDataType(dataItem, dataTypeFactory) {\n    var _this = _super.call(this, dataItem, dataTypeFactory, BoolDataType._SIZE_KNOWN_AT_COMPILE_TIME) || this;\n\n    if (!BoolDataType.matchType(dataItem.type)) {\n      throw new Error(\"Tried to instantiate Bool with bad input: \" + dataItem);\n    }\n\n    return _this;\n  }\n\n  BoolDataType.matchType = function (type) {\n    return type === ethereum_types_1.SolidityTypes.Bool;\n  }; // Disable prefer-function-over-method for inherited abstract methods.\n\n  /* tslint:disable prefer-function-over-method */\n\n\n  BoolDataType.prototype.encodeValue = function (value) {\n    var encodedValue = value ? '0x1' : '0x0';\n    var encodedValueBuf = ethUtil.setLengthLeft(ethUtil.toBuffer(encodedValue), constants_1.constants.EVM_WORD_WIDTH_IN_BYTES);\n    return encodedValueBuf;\n  };\n\n  BoolDataType.prototype.decodeValue = function (calldata) {\n    var valueBuf = calldata.popWord();\n    var valueHex = ethUtil.bufferToHex(valueBuf); // Hack @hysz: there are some cases where `false` is encoded as 0x instead of 0x0.\n\n    var valueNumber = valueHex === '0x' ? new configured_bignumber_1.BigNumber(0) : new configured_bignumber_1.BigNumber(valueHex, constants_1.constants.HEX_BASE);\n\n    if (!(valueNumber.isEqualTo(0) || valueNumber.isEqualTo(1))) {\n      throw new Error(\"Failed to decode boolean. Expected 0x0 or 0x1, got \" + valueHex);\n    }\n    /* tslint:disable boolean-naming */\n\n\n    var value = !valueNumber.isEqualTo(0);\n    /* tslint:enable boolean-naming */\n\n    return value;\n  };\n\n  BoolDataType.prototype.getDefaultValue = function () {\n    return BoolDataType._DEFAULT_VALUE;\n  };\n\n  BoolDataType.prototype.getSignatureType = function () {\n    return ethereum_types_1.SolidityTypes.Bool;\n  };\n\n  BoolDataType._SIZE_KNOWN_AT_COMPILE_TIME = true;\n  BoolDataType._DEFAULT_VALUE = false;\n  return BoolDataType;\n}(blob_1.AbstractBlobDataType);\n\nexports.BoolDataType = BoolDataType;","map":{"version":3,"sources":["../../../../src/abi_encoder/evm_data_types/bool.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,gBAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AAGA,IAAA,sBAAA,GAAA,OAAA,CAAA,4BAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,mCAAA,CAAA;;AAEA,IAAA,WAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,YAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAkC,EAAA,SAAA,CAAA,YAAA,EAAA,MAAA,CAAA;;AAQ9B,WAAA,YAAA,CAAmB,QAAnB,EAAuC,eAAvC,EAAuE;AAAvE,QAAA,KAAA,GACI,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,QAAN,EAAgB,eAAhB,EAAiC,YAAY,CAAC,2BAA9C,KAA0E,IAD9E;;AAEI,QAAI,CAAC,YAAY,CAAC,SAAb,CAAuB,QAAQ,CAAC,IAAhC,CAAL,EAA4C;AACxC,YAAM,IAAI,KAAJ,CAAU,+CAA6C,QAAvD,CAAN;AACH;;;AACJ;;AATa,EAAA,YAAA,CAAA,SAAA,GAAd,UAAwB,IAAxB,EAAoC;AAChC,WAAO,IAAI,KAAK,gBAAA,CAAA,aAAA,CAAc,IAA9B;AACH,GAFa,CAJlB,CAeI;;AACA;;;AACO,EAAA,YAAA,CAAA,SAAA,CAAA,WAAA,GAAP,UAAmB,KAAnB,EAAiC;AAC7B,QAAM,YAAY,GAAG,KAAK,GAAG,KAAH,GAAW,KAArC;AACA,QAAM,eAAe,GAAG,OAAO,CAAC,aAAR,CACpB,OAAO,CAAC,QAAR,CAAiB,YAAjB,CADoB,EAEpB,WAAA,CAAA,SAAA,CAAU,uBAFU,CAAxB;AAIA,WAAO,eAAP;AACH,GAPM;;AASA,EAAA,YAAA,CAAA,SAAA,CAAA,WAAA,GAAP,UAAmB,QAAnB,EAAwC;AACpC,QAAM,QAAQ,GAAG,QAAQ,CAAC,OAAT,EAAjB;AACA,QAAM,QAAQ,GAAG,OAAO,CAAC,WAAR,CAAoB,QAApB,CAAjB,CAFoC,CAGpC;;AACA,QAAM,WAAW,GAAG,QAAQ,KAAK,IAAb,GAAoB,IAAI,sBAAA,CAAA,SAAJ,CAAc,CAAd,CAApB,GAAuC,IAAI,sBAAA,CAAA,SAAJ,CAAc,QAAd,EAAwB,WAAA,CAAA,SAAA,CAAU,QAAlC,CAA3D;;AACA,QAAI,EAAE,WAAW,CAAC,SAAZ,CAAsB,CAAtB,KAA4B,WAAW,CAAC,SAAZ,CAAsB,CAAtB,CAA9B,CAAJ,EAA6D;AACzD,YAAM,IAAI,KAAJ,CAAU,wDAAsD,QAAhE,CAAN;AACH;AACD;;;AACA,QAAM,KAAK,GAAY,CAAC,WAAW,CAAC,SAAZ,CAAsB,CAAtB,CAAxB;AACA;;AACA,WAAO,KAAP;AACH,GAZM;;AAcA,EAAA,YAAA,CAAA,SAAA,CAAA,eAAA,GAAP,YAAA;AACI,WAAO,YAAY,CAAC,cAApB;AACH,GAFM;;AAIA,EAAA,YAAA,CAAA,SAAA,CAAA,gBAAA,GAAP,YAAA;AACI,WAAO,gBAAA,CAAA,aAAA,CAAc,IAArB;AACH,GAFM;;AA3CiB,EAAA,YAAA,CAAA,2BAAA,GAAuC,IAAvC;AACA,EAAA,YAAA,CAAA,cAAA,GAA0B,KAA1B;AA8C5B,SAAA,YAAA;AAAC,CAhDD,CAAkC,MAAA,CAAA,oBAAlC,CAAA;;AAAa,OAAA,CAAA,YAAA,GAAA,YAAA","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ethereum_types_1 = require(\"ethereum-types\");\r\nvar ethUtil = require(\"ethereumjs-util\");\r\nvar configured_bignumber_1 = require(\"../../configured_bignumber\");\r\nvar blob_1 = require(\"../abstract_data_types/types/blob\");\r\nvar constants_1 = require(\"../utils/constants\");\r\nvar BoolDataType = /** @class */ (function (_super) {\r\n    __extends(BoolDataType, _super);\r\n    function BoolDataType(dataItem, dataTypeFactory) {\r\n        var _this = _super.call(this, dataItem, dataTypeFactory, BoolDataType._SIZE_KNOWN_AT_COMPILE_TIME) || this;\r\n        if (!BoolDataType.matchType(dataItem.type)) {\r\n            throw new Error(\"Tried to instantiate Bool with bad input: \" + dataItem);\r\n        }\r\n        return _this;\r\n    }\r\n    BoolDataType.matchType = function (type) {\r\n        return type === ethereum_types_1.SolidityTypes.Bool;\r\n    };\r\n    // Disable prefer-function-over-method for inherited abstract methods.\r\n    /* tslint:disable prefer-function-over-method */\r\n    BoolDataType.prototype.encodeValue = function (value) {\r\n        var encodedValue = value ? '0x1' : '0x0';\r\n        var encodedValueBuf = ethUtil.setLengthLeft(ethUtil.toBuffer(encodedValue), constants_1.constants.EVM_WORD_WIDTH_IN_BYTES);\r\n        return encodedValueBuf;\r\n    };\r\n    BoolDataType.prototype.decodeValue = function (calldata) {\r\n        var valueBuf = calldata.popWord();\r\n        var valueHex = ethUtil.bufferToHex(valueBuf);\r\n        // Hack @hysz: there are some cases where `false` is encoded as 0x instead of 0x0.\r\n        var valueNumber = valueHex === '0x' ? new configured_bignumber_1.BigNumber(0) : new configured_bignumber_1.BigNumber(valueHex, constants_1.constants.HEX_BASE);\r\n        if (!(valueNumber.isEqualTo(0) || valueNumber.isEqualTo(1))) {\r\n            throw new Error(\"Failed to decode boolean. Expected 0x0 or 0x1, got \" + valueHex);\r\n        }\r\n        /* tslint:disable boolean-naming */\r\n        var value = !valueNumber.isEqualTo(0);\r\n        /* tslint:enable boolean-naming */\r\n        return value;\r\n    };\r\n    BoolDataType.prototype.getDefaultValue = function () {\r\n        return BoolDataType._DEFAULT_VALUE;\r\n    };\r\n    BoolDataType.prototype.getSignatureType = function () {\r\n        return ethereum_types_1.SolidityTypes.Bool;\r\n    };\r\n    BoolDataType._SIZE_KNOWN_AT_COMPILE_TIME = true;\r\n    BoolDataType._DEFAULT_VALUE = false;\r\n    return BoolDataType;\r\n}(blob_1.AbstractBlobDataType));\r\nexports.BoolDataType = BoolDataType;\r\n//# sourceMappingURL=bool.js.map"]},"metadata":{},"sourceType":"script"}