{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.parse = exports.DEFAULT_PRIORITY = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/*\r\n * Initial settings for connect.\r\n * It could be changed by passing values into TrezorConnect.init(...) method\r\n */\n\n\nvar VERSION = '7.0.5';\nvar versionN = VERSION.split('.').map(function (s) {\n  return parseInt(s);\n});\nvar DIRECTORY = \"\" + versionN[0] + (versionN[1] > 0 ? \".\" + versionN[1] : '') + \"/\";\nvar DEFAULT_DOMAIN = \"https://connect.trezor.io/\" + DIRECTORY;\nvar DEFAULT_PRIORITY = 2;\nexports.DEFAULT_PRIORITY = DEFAULT_PRIORITY;\nvar initialSettings = {\n  configSrc: 'data/config.json',\n  // constant\n  version: VERSION,\n  // constant\n  debug: false,\n  origin: null,\n  priority: DEFAULT_PRIORITY,\n  trustedHost: false,\n  connectSrc: DEFAULT_DOMAIN,\n  iframeSrc: DEFAULT_DOMAIN + \"iframe.html\",\n  popup: true,\n  popupSrc: DEFAULT_DOMAIN + \"popup.html\",\n  webusbSrc: DEFAULT_DOMAIN + \"webusb.html\",\n  transportReconnect: false,\n  webusb: true,\n  pendingTransportEvent: true,\n  supportedBrowser: typeof navigator !== 'undefined' ? !/Trident|MSIE/.test(navigator.userAgent) : true,\n  extension: null,\n  manifest: null\n};\nvar currentSettings = initialSettings;\n\nvar parseManifest = function parseManifest(manifest) {\n  if (typeof manifest.email !== 'string') {\n    return null;\n  }\n\n  if (typeof manifest.appUrl !== 'string') {\n    return null;\n  }\n\n  return {\n    email: manifest.email,\n    appUrl: manifest.appUrl\n  };\n};\n\nvar parse = function parse(input) {\n  if (!input) return currentSettings;\n\n  var settings = _objectSpread({}, currentSettings);\n\n  if (input.hasOwnProperty('debug')) {\n    if (Array.isArray(input)) {// enable log with prefix\n    }\n\n    if (typeof input.debug === 'boolean') {\n      settings.debug = input.debug;\n    } else if (typeof input.debug === 'string') {\n      settings.debug = input.debug === 'true';\n    }\n  }\n\n  if (typeof input.connectSrc === 'string') {\n    // TODO: escape string, validate url\n    settings.connectSrc = input.connectSrc;\n  } else if (typeof window !== 'undefined' && typeof window.__TREZOR_CONNECT_SRC === 'string') {\n    settings.connectSrc = window.__TREZOR_CONNECT_SRC;\n  }\n\n  settings.iframeSrc = settings.connectSrc + \"iframe.html\";\n  settings.popupSrc = settings.connectSrc + \"popup.html\";\n  settings.webusbSrc = settings.connectSrc + \"webusb.html\";\n\n  if (typeof input.transportReconnect === 'boolean') {\n    settings.transportReconnect = input.transportReconnect;\n  }\n\n  if (typeof input.webusb === 'boolean') {\n    settings.webusb = input.webusb;\n  }\n\n  if (typeof input.popup === 'boolean') {\n    settings.popup = input.popup;\n  }\n\n  if (typeof input.pendingTransportEvent === 'boolean') {\n    settings.pendingTransportEvent = input.pendingTransportEvent;\n  } // local files\n\n\n  if (typeof window !== 'undefined' && window.location.protocol === 'file:') {\n    settings.origin = \"file://\" + window.location.pathname;\n    settings.webusb = false;\n  }\n\n  if (typeof input.extension === 'string') {\n    settings.extension = input.extension;\n  }\n\n  if (typeof input.manifest === 'object') {\n    settings.manifest = parseManifest(input.manifest);\n  }\n\n  currentSettings = settings;\n  return currentSettings;\n};\n\nexports.parse = parse;","map":{"version":3,"sources":["F:/7color/node_modules/trezor-connect/lib/data/ConnectSettings.js"],"names":["_interopRequireDefault","require","exports","__esModule","parse","DEFAULT_PRIORITY","_defineProperty2","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","VERSION","versionN","split","map","s","parseInt","DIRECTORY","DEFAULT_DOMAIN","initialSettings","configSrc","version","debug","origin","priority","trustedHost","connectSrc","iframeSrc","popup","popupSrc","webusbSrc","transportReconnect","webusb","pendingTransportEvent","supportedBrowser","navigator","test","userAgent","extension","manifest","currentSettings","parseManifest","email","appUrl","input","settings","hasOwnProperty","Array","isArray","window","__TREZOR_CONNECT_SRC","location","protocol","pathname"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nexports.__esModule = true;\r\nexports.parse = exports.DEFAULT_PRIORITY = void 0;\r\n\r\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\r\n\r\n/*\r\n * Initial settings for connect.\r\n * It could be changed by passing values into TrezorConnect.init(...) method\r\n */\r\nvar VERSION = '7.0.5';\r\nvar versionN = VERSION.split('.').map(function (s) {\r\n  return parseInt(s);\r\n});\r\nvar DIRECTORY = \"\" + versionN[0] + (versionN[1] > 0 ? \".\" + versionN[1] : '') + \"/\";\r\nvar DEFAULT_DOMAIN = \"https://connect.trezor.io/\" + DIRECTORY;\r\nvar DEFAULT_PRIORITY = 2;\r\nexports.DEFAULT_PRIORITY = DEFAULT_PRIORITY;\r\nvar initialSettings = {\r\n  configSrc: 'data/config.json',\r\n  // constant\r\n  version: VERSION,\r\n  // constant\r\n  debug: false,\r\n  origin: null,\r\n  priority: DEFAULT_PRIORITY,\r\n  trustedHost: false,\r\n  connectSrc: DEFAULT_DOMAIN,\r\n  iframeSrc: DEFAULT_DOMAIN + \"iframe.html\",\r\n  popup: true,\r\n  popupSrc: DEFAULT_DOMAIN + \"popup.html\",\r\n  webusbSrc: DEFAULT_DOMAIN + \"webusb.html\",\r\n  transportReconnect: false,\r\n  webusb: true,\r\n  pendingTransportEvent: true,\r\n  supportedBrowser: typeof navigator !== 'undefined' ? !/Trident|MSIE/.test(navigator.userAgent) : true,\r\n  extension: null,\r\n  manifest: null\r\n};\r\nvar currentSettings = initialSettings;\r\n\r\nvar parseManifest = function parseManifest(manifest) {\r\n  if (typeof manifest.email !== 'string') {\r\n    return null;\r\n  }\r\n\r\n  if (typeof manifest.appUrl !== 'string') {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    email: manifest.email,\r\n    appUrl: manifest.appUrl\r\n  };\r\n};\r\n\r\nvar parse = function parse(input) {\r\n  if (!input) return currentSettings;\r\n\r\n  var settings = _objectSpread({}, currentSettings);\r\n\r\n  if (input.hasOwnProperty('debug')) {\r\n    if (Array.isArray(input)) {// enable log with prefix\r\n    }\r\n\r\n    if (typeof input.debug === 'boolean') {\r\n      settings.debug = input.debug;\r\n    } else if (typeof input.debug === 'string') {\r\n      settings.debug = input.debug === 'true';\r\n    }\r\n  }\r\n\r\n  if (typeof input.connectSrc === 'string') {\r\n    // TODO: escape string, validate url\r\n    settings.connectSrc = input.connectSrc;\r\n  } else if (typeof window !== 'undefined' && typeof window.__TREZOR_CONNECT_SRC === 'string') {\r\n    settings.connectSrc = window.__TREZOR_CONNECT_SRC;\r\n  }\r\n\r\n  settings.iframeSrc = settings.connectSrc + \"iframe.html\";\r\n  settings.popupSrc = settings.connectSrc + \"popup.html\";\r\n  settings.webusbSrc = settings.connectSrc + \"webusb.html\";\r\n\r\n  if (typeof input.transportReconnect === 'boolean') {\r\n    settings.transportReconnect = input.transportReconnect;\r\n  }\r\n\r\n  if (typeof input.webusb === 'boolean') {\r\n    settings.webusb = input.webusb;\r\n  }\r\n\r\n  if (typeof input.popup === 'boolean') {\r\n    settings.popup = input.popup;\r\n  }\r\n\r\n  if (typeof input.pendingTransportEvent === 'boolean') {\r\n    settings.pendingTransportEvent = input.pendingTransportEvent;\r\n  } // local files\r\n\r\n\r\n  if (typeof window !== 'undefined' && window.location.protocol === 'file:') {\r\n    settings.origin = \"file://\" + window.location.pathname;\r\n    settings.webusb = false;\r\n  }\r\n\r\n  if (typeof input.extension === 'string') {\r\n    settings.extension = input.extension;\r\n  }\r\n\r\n  if (typeof input.manifest === 'object') {\r\n    settings.manifest = parseManifest(input.manifest);\r\n  }\r\n\r\n  currentSettings = settings;\r\n  return currentSettings;\r\n};\r\n\r\nexports.parse = parse;"]},"metadata":{},"sourceType":"script"}