{"ast":null,"code":"var _jsxFileName = \"F:\\\\7color\\\\src\\\\components\\\\unlock\\\\unlock.jsx\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { withStyles } from '@material-ui/core/styles';\nimport { Typography, Button, CircularProgress } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { withNamespaces } from 'react-i18next';\nimport { Web3ReactProvider, useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { ERROR, CONNECTION_DISCONNECTED, CONNECTION_CONNECTED } from '../../constants';\nimport Store from \"../../stores\";\nconst emitter = Store.emitter;\nconst store = Store.store;\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    height: 'auto',\n    display: 'flex',\n    position: 'relative'\n  },\n  contentContainer: {\n    margin: 'auto',\n    textAlign: 'center',\n    padding: '12px',\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  cardContainer: {\n    marginTop: '60px',\n    minHeight: '260px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n    alignItems: 'center'\n  },\n  unlockCard: {\n    padding: '24px'\n  },\n  buttonText: {\n    marginLeft: '12px',\n    fontWeight: '700'\n  },\n  instruction: {\n    maxWidth: '400px',\n    marginBottom: '32px',\n    marginTop: '32px'\n  },\n  actionButton: {\n    padding: '12px',\n    backgroundColor: 'white',\n    borderRadius: '3rem',\n    border: '1px solid #E1E1E1',\n    fontWeight: 500,\n    [theme.breakpoints.up('md')]: {\n      padding: '15px'\n    }\n  },\n  connect: {\n    width: '100%'\n  },\n  closeIcon: {\n    position: 'absolute',\n    right: '0px',\n    top: '0px',\n    cursor: 'pointer'\n  }\n});\n\nclass Unlock extends Component {\n  constructor(props) {\n    super();\n\n    this.error = err => {\n      this.setState({\n        loading: false,\n        error: err,\n        metamaskLoading: false,\n        ledgerLoading: false\n      });\n    };\n\n    this.connectionConnected = () => {\n      if (this.props.closeModal != null) {\n        this.props.closeModal();\n      }\n    };\n\n    this.connectionDisconnected = () => {\n      if (this.props.closeModal != null) {\n        this.props.closeModal();\n      }\n    };\n\n    this.metamaskUnlocked = () => {\n      this.setState({\n        metamaskLoading: false\n      });\n\n      if (this.props.closeModal != null) {\n        this.props.closeModal();\n      }\n    };\n\n    this.ledgerUnlocked = () => {\n      this.setState({\n        ledgerLoading: false\n      });\n\n      if (this.props.closeModal != null) {\n        this.props.closeModal();\n      }\n    };\n\n    this.cancelLedger = () => {\n      this.setState({\n        ledgerLoading: false\n      });\n    };\n\n    this.cancelMetamask = () => {\n      this.setState({\n        metamaskLoading: false\n      });\n    };\n\n    this.state = {\n      error: null,\n      metamaskLoading: false,\n      ledgerLoading: false\n    };\n  }\n\n  componentWillMount() {\n    emitter.on(CONNECTION_CONNECTED, this.connectionConnected);\n    emitter.on(CONNECTION_DISCONNECTED, this.connectionDisconnected);\n    emitter.on(ERROR, this.error);\n  }\n\n  componentWillUnmount() {\n    emitter.removeListener(CONNECTION_CONNECTED, this.connectionConnected);\n    emitter.removeListener(CONNECTION_DISCONNECTED, this.connectionDisconnected);\n    emitter.removeListener(ERROR, this.error);\n  }\n\n  render() {\n    const {\n      classes,\n      closeModal,\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.closeIcon,\n      onClick: closeModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 69\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.contentContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Web3ReactProvider, {\n      getLibrary: getLibrary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MyComponent, {\n      closeModal: closeModal,\n      t: t,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nfunction getLibrary(provider) {\n  const library = new Web3Provider(provider);\n  library.pollingInterval = 8000;\n  return library;\n}\n\nfunction onConnectionClicked(currentConnector, name, setActivatingConnector, activate) {\n  const connectorsByName = store.getStore('connectorsByName');\n  setActivatingConnector(currentConnector);\n  activate(connectorsByName[name]);\n}\n\nfunction onDeactivateClicked(deactivate, connector) {\n  if (deactivate) {\n    deactivate();\n  }\n\n  if (connector && connector.close) {\n    connector.close();\n  }\n\n  store.setStore({\n    account: {},\n    web3context: null\n  });\n  emitter.emit(CONNECTION_DISCONNECTED);\n}\n\nfunction MyComponent(props) {\n  const context = useWeb3React();\n  const localContext = store.getStore('web3context');\n  var localConnector = null;\n\n  if (localContext) {\n    localConnector = localContext.connector;\n  }\n\n  const {\n    connector,\n    library,\n    account,\n    activate,\n    deactivate,\n    active,\n    error\n  } = context;\n  var connectorsByName = store.getStore('connectorsByName');\n  const {\n    closeModal,\n    t\n  } = props;\n  const [activatingConnector, setActivatingConnector] = React.useState();\n  React.useEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined);\n    }\n  }, [activatingConnector, connector]);\n  React.useEffect(() => {\n    if (account && active && library) {\n      store.setStore({\n        account: {\n          address: account\n        },\n        web3context: context\n      });\n      emitter.emit(CONNECTION_CONNECTED);\n    }\n  }, [account, active, closeModal, context, library]);\n  const width = window.innerWidth;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: width > 650 ? 'space-between' : 'center',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 5\n    }\n  }, Object.keys(connectorsByName).map(name => {\n    const currentConnector = connectorsByName[name];\n    const activating = currentConnector === activatingConnector;\n    const connected = currentConnector === connector || currentConnector === localConnector;\n    const disabled = !!activatingConnector || !!error;\n    var url;\n    var display = name;\n\n    if (name === 'MetaMask') {\n      url = require('../../assets/icn-metamask.svg');\n    } else if (name === 'WalletConnect') {\n      url = require('../../assets/walletConnectIcon.svg');\n    } else if (name === 'TrustWallet') {\n      url = require('../../assets/trustWallet.png');\n    } else if (name === 'Portis') {\n      url = require('../../assets/portisIcon.png');\n    } else if (name === 'Fortmatic') {\n      url = require('../../assets/fortmaticIcon.png');\n    } else if (name === 'Ledger') {\n      url = require('../../assets/icn-ledger.svg');\n    } else if (name === 'Squarelink') {\n      url = require('../../assets/squarelink.png');\n    } else if (name === 'Trezor') {\n      url = require('../../assets/trezor.png');\n    } else if (name === 'Torus') {\n      url = require('../../assets/torus.jpg');\n    } else if (name === 'Authereum') {\n      url = require('../../assets/icn-aethereum.svg');\n    } else if (name === 'WalletLink') {\n      display = 'Coinbase Wallet';\n      url = require('../../assets/coinbaseWalletIcon.svg');\n    } else if (name === 'Frame') {\n      return '';\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: name,\n      style: {\n        padding: '12px 0px',\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        padding: '16px',\n        backgroundColor: 'white',\n        borderRadius: '1rem',\n        border: '1px solid #E1E1E1',\n        fontWeight: 500,\n        display: 'flex',\n        justifyContent: 'space-between',\n        minWidth: '250px'\n      },\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => {\n        onConnectionClicked(currentConnector, name, setActivatingConnector, activate);\n      },\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      style: {\n        margin: '0px 12px',\n        color: 'rgb(1, 1, 1)',\n        fontWeight: 500,\n        fontSize: '1rem'\n      },\n      variant: 'h3',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 15\n      }\n    }, display), !activating && !connected && /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        position: 'absolute',\n        right: '20px',\n        width: '30px',\n        height: '30px'\n      },\n      src: url,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 48\n      }\n    }), activating && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 15,\n      style: {\n        marginRight: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 31\n      }\n    }), !activating && connected && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: '#4caf50',\n        borderRadius: '10px',\n        width: '10px',\n        height: '10px',\n        marginRight: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 47\n      }\n    })));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '252px',\n      margin: '12px 0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      padding: '12px',\n      backgroundColor: 'white',\n      borderRadius: '20px',\n      border: '1px solid #E1E1E1',\n      fontWeight: 500,\n      minWidth: '250px'\n    },\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: () => {\n      onDeactivateClicked(deactivate, connector);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      marginLeft: '12px',\n      fontWeight: '700',\n      color: '#DC6BE5'\n    },\n    variant: 'h5',\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 11\n    }\n  }, t('Unlock.Deactivate')))));\n}\n\nexport default withNamespaces()(withRouter(withStyles(styles)(Unlock)));","map":{"version":3,"sources":["F:/7color/src/components/unlock/unlock.jsx"],"names":["React","Component","withRouter","withStyles","Typography","Button","CircularProgress","CloseIcon","withNamespaces","Web3ReactProvider","useWeb3React","Web3Provider","ERROR","CONNECTION_DISCONNECTED","CONNECTION_CONNECTED","Store","emitter","store","styles","theme","root","flex","height","display","position","contentContainer","margin","textAlign","padding","flexWrap","cardContainer","marginTop","minHeight","flexDirection","justifyContent","alignItems","unlockCard","buttonText","marginLeft","fontWeight","instruction","maxWidth","marginBottom","actionButton","backgroundColor","borderRadius","border","breakpoints","up","connect","width","closeIcon","right","top","cursor","Unlock","constructor","props","error","err","setState","loading","metamaskLoading","ledgerLoading","connectionConnected","closeModal","connectionDisconnected","metamaskUnlocked","ledgerUnlocked","cancelLedger","cancelMetamask","state","componentWillMount","on","componentWillUnmount","removeListener","render","classes","t","getLibrary","provider","library","pollingInterval","onConnectionClicked","currentConnector","name","setActivatingConnector","activate","connectorsByName","getStore","onDeactivateClicked","deactivate","connector","close","setStore","account","web3context","emit","MyComponent","context","localContext","localConnector","active","activatingConnector","useState","useEffect","undefined","address","window","innerWidth","Object","keys","map","activating","connected","disabled","url","require","minWidth","color","fontSize","marginRight","background"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Typography,\r\n  Button,\r\n  CircularProgress\r\n} from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { withNamespaces } from 'react-i18next';\r\n\r\nimport {\r\n  Web3ReactProvider,\r\n  useWeb3React,\r\n} from \"@web3-react/core\";\r\nimport { Web3Provider } from \"@ethersproject/providers\";\r\n\r\nimport {\r\n  ERROR,\r\n  CONNECTION_DISCONNECTED,\r\n  CONNECTION_CONNECTED\r\n} from '../../constants'\r\n\r\nimport Store from \"../../stores\";\r\nconst emitter = Store.emitter\r\nconst store = Store.store\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flex: 1,\r\n    height: 'auto',\r\n    display: 'flex',\r\n    position: 'relative'\r\n  },\r\n  contentContainer: {\r\n    margin: 'auto',\r\n    textAlign: 'center',\r\n    padding: '12px',\r\n    display: 'flex',\r\n    flexWrap: 'wrap'\r\n  },\r\n  cardContainer: {\r\n    marginTop: '60px',\r\n    minHeight: '260px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center'\r\n  },\r\n  unlockCard: {\r\n    padding: '24px'\r\n  },\r\n  buttonText: {\r\n    marginLeft: '12px',\r\n    fontWeight: '700',\r\n  },\r\n  instruction: {\r\n    maxWidth: '400px',\r\n    marginBottom: '32px',\r\n    marginTop: '32px'\r\n  },\r\n  actionButton: {\r\n    padding: '12px',\r\n    backgroundColor: 'white',\r\n    borderRadius: '3rem',\r\n    border: '1px solid #E1E1E1',\r\n    fontWeight: 500,\r\n    [theme.breakpoints.up('md')]: {\r\n      padding: '15px',\r\n    }\r\n  },\r\n  connect: {\r\n    width: '100%'\r\n  },\r\n  closeIcon: {\r\n    position: 'absolute',\r\n    right: '0px',\r\n    top: '0px',\r\n    cursor: 'pointer'\r\n  }\r\n});\r\n\r\nclass Unlock extends Component {\r\n\r\n  constructor(props) {\r\n    super()\r\n\r\n    this.state = {\r\n      error: null,\r\n      metamaskLoading: false,\r\n      ledgerLoading: false\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    emitter.on(CONNECTION_CONNECTED, this.connectionConnected);\r\n    emitter.on(CONNECTION_DISCONNECTED, this.connectionDisconnected);\r\n    emitter.on(ERROR, this.error);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    emitter.removeListener(CONNECTION_CONNECTED, this.connectionConnected);\r\n    emitter.removeListener(CONNECTION_DISCONNECTED, this.connectionDisconnected);\r\n    emitter.removeListener(ERROR, this.error);\r\n  };\r\n\r\n  error = (err) => {\r\n    this.setState({ loading: false, error: err, metamaskLoading: false, ledgerLoading: false })\r\n  };\r\n\r\n  connectionConnected = () => {\r\n    if(this.props.closeModal != null) {\r\n      this.props.closeModal()\r\n    }\r\n  }\r\n\r\n  connectionDisconnected = () => {\r\n    if(this.props.closeModal != null) {\r\n      this.props.closeModal()\r\n    }\r\n  }\r\n\r\n  metamaskUnlocked = () => {\r\n    this.setState({ metamaskLoading: false })\r\n    if(this.props.closeModal != null) {\r\n      this.props.closeModal()\r\n    }\r\n  }\r\n\r\n  ledgerUnlocked = () => {\r\n    this.setState({ ledgerLoading: false })\r\n    if(this.props.closeModal != null) {\r\n      this.props.closeModal()\r\n    }\r\n  }\r\n\r\n  cancelLedger = () => {\r\n    this.setState({ ledgerLoading: false })\r\n  }\r\n\r\n  cancelMetamask = () => {\r\n    this.setState({ metamaskLoading: false })\r\n  }\r\n\r\n  render() {\r\n    const { classes, closeModal, t } = this.props;\r\n\r\n    return (\r\n      <div className={ classes.root }>\r\n        <div className={ classes.closeIcon } onClick={ closeModal }><CloseIcon /></div>\r\n        <div className={ classes.contentContainer }>\r\n          <Web3ReactProvider getLibrary={getLibrary}>\r\n            <MyComponent closeModal={ closeModal} t={t} />\r\n          </Web3ReactProvider>\r\n        </div>\r\n      </div>\r\n    )\r\n  };\r\n}\r\n\r\nfunction getLibrary(provider) {\r\n\r\n  const library = new Web3Provider(provider);\r\n  library.pollingInterval = 8000;\r\n  return library;\r\n}\r\n\r\nfunction onConnectionClicked(currentConnector, name, setActivatingConnector, activate) {\r\n  const connectorsByName = store.getStore('connectorsByName')\r\n  setActivatingConnector(currentConnector);\r\n  activate(connectorsByName[name]);\r\n}\r\n\r\nfunction onDeactivateClicked(deactivate, connector) {\r\n  if(deactivate) {\r\n    deactivate()\r\n  }\r\n  if(connector && connector.close) {\r\n    connector.close()\r\n  }\r\n  store.setStore({ account: { }, web3context: null })\r\n  emitter.emit(CONNECTION_DISCONNECTED)\r\n}\r\n\r\nfunction MyComponent(props) {\r\n\r\n  const context = useWeb3React();\r\n  const localContext = store.getStore('web3context');\r\n  var localConnector = null;\r\n  if (localContext) {\r\n    localConnector = localContext.connector\r\n  }\r\n  const {\r\n    connector,\r\n    library,\r\n    account,\r\n    activate,\r\n    deactivate,\r\n    active,\r\n    error\r\n  } = context;\r\n  var connectorsByName = store.getStore('connectorsByName')\r\n\r\n  const { closeModal, t } = props\r\n\r\n  const [activatingConnector, setActivatingConnector] = React.useState();\r\n  React.useEffect(() => {\r\n    if (activatingConnector && activatingConnector === connector) {\r\n      setActivatingConnector(undefined);\r\n    }\r\n  }, [activatingConnector, connector]);\r\n\r\n  React.useEffect(() => {\r\n    if (account && active && library) {\r\n      store.setStore({ account: { address: account }, web3context: context })\r\n      emitter.emit(CONNECTION_CONNECTED)\r\n    }\r\n  }, [account, active, closeModal, context, library]);\r\n\r\n  const width = window.innerWidth\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: (width > 650 ? 'space-between' : 'center'), alignItems: 'center' }}>\r\n      {Object.keys(connectorsByName).map(name => {\r\n        const currentConnector = connectorsByName[name];\r\n        const activating = currentConnector === activatingConnector;\r\n        const connected = (currentConnector === connector||currentConnector === localConnector);\r\n        const disabled =\r\n           !!activatingConnector || !!error;\r\n\r\n        var url;\r\n        var display = name;\r\n        if (name === 'MetaMask') {\r\n          url = require('../../assets/icn-metamask.svg')\r\n        } else if (name === 'WalletConnect') {\r\n          url = require('../../assets/walletConnectIcon.svg')\r\n        } else if (name === 'TrustWallet') {\r\n          url = require('../../assets/trustWallet.png')\r\n        } else if (name === 'Portis') {\r\n          url = require('../../assets/portisIcon.png')\r\n        } else if (name === 'Fortmatic') {\r\n          url = require('../../assets/fortmaticIcon.png')\r\n        } else if (name === 'Ledger') {\r\n          url = require('../../assets/icn-ledger.svg')\r\n        } else if (name === 'Squarelink') {\r\n          url = require('../../assets/squarelink.png')\r\n        } else if (name === 'Trezor') {\r\n          url = require('../../assets/trezor.png')\r\n        } else if (name === 'Torus') {\r\n          url = require('../../assets/torus.jpg')\r\n        } else if (name === 'Authereum') {\r\n          url = require('../../assets/icn-aethereum.svg')\r\n        } else if (name === 'WalletLink') {\r\n          display = 'Coinbase Wallet'\r\n          url = require('../../assets/coinbaseWalletIcon.svg')\r\n        } else if (name === 'Frame') {\r\n          return ''\r\n        }\r\n\r\n        return (\r\n          <div key={name} style={{ padding: '12px 0px', display: 'flex', justifyContent: 'space-between'  }}>\r\n            <Button style={ {\r\n                padding: '16px',\r\n                backgroundColor: 'white',\r\n                borderRadius: '1rem',\r\n                border: '1px solid #E1E1E1',\r\n                fontWeight: 500,\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                minWidth: '250px'\r\n              } }\r\n              variant='outlined'\r\n              color='primary'\r\n              onClick={() => {\r\n                onConnectionClicked(currentConnector, name, setActivatingConnector, activate)\r\n              }}\r\n              disabled={ disabled }>\r\n              <Typography style={ {\r\n                  margin: '0px 12px',\r\n                  color: 'rgb(1, 1, 1)',\r\n                  fontWeight: 500,\r\n                  fontSize: '1rem',\r\n                } }\r\n                variant={ 'h3'}>\r\n                { display }\r\n              </Typography>\r\n\r\n              { (!activating && !connected) && <img style={\r\n                {\r\n                  position: 'absolute',\r\n                  right: '20px',\r\n\r\n                  width: '30px',\r\n                  height: '30px'\r\n                }\r\n              } src={url} alt=\"\"/> }\r\n              { activating && <CircularProgress size={ 15 } style={{marginRight: '10px'}} /> }\r\n              { (!activating && connected) && <div style={{ background: '#4caf50', borderRadius: '10px', width: '10px', height: '10px', marginRight: '10px' }}></div> }\r\n            </Button>\r\n          </div>\r\n        )\r\n      }) }\r\n\r\n      <div style={{ width: '252px', margin: '12px 0px'  }}>\r\n        <Button style={ {\r\n            padding: '12px',\r\n            backgroundColor: 'white',\r\n            borderRadius: '20px',\r\n            border: '1px solid #E1E1E1',\r\n            fontWeight: 500,\r\n            minWidth: '250px'\r\n          } }\r\n          variant='outlined'\r\n          color='primary'\r\n          onClick={() => { onDeactivateClicked(deactivate, connector); }}>\r\n          <Typography style={ {\r\n              marginLeft: '12px',\r\n              fontWeight: '700',\r\n              color: '#DC6BE5'\r\n            } }\r\n            variant={ 'h5'}\r\n            color='primary'>\r\n            { t('Unlock.Deactivate') }\r\n          </Typography>\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default withNamespaces()(withRouter(withStyles(styles)(Unlock)));\r\n"]},"metadata":{},"sourceType":"module"}