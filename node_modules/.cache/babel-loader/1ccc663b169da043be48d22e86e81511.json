{"ast":null,"code":"'use strict';\n\nvar isHexPrefixed = require('is-hex-prefixed');\n\nvar stripHexPrefix = require('strip-hex-prefix');\n/**\n * Pads a `String` to have an even length\n * @param {String} value\n * @return {String} output\n */\n\n\nfunction padToEven(value) {\n  var a = value; // eslint-disable-line\n\n  if (typeof a !== 'string') {\n    throw new Error('[ethjs-util] while padding to even, value must be string, is currently ' + typeof a + ', while padToEven.');\n  }\n\n  if (a.length % 2) {\n    a = '0' + a;\n  }\n\n  return a;\n}\n/**\n * Converts a `Number` into a hex `String`\n * @param {Number} i\n * @return {String}\n */\n\n\nfunction intToHex(i) {\n  var hex = i.toString(16); // eslint-disable-line\n\n  return '0x' + padToEven(hex);\n}\n/**\n * Converts an `Number` to a `Buffer`\n * @param {Number} i\n * @return {Buffer}\n */\n\n\nfunction intToBuffer(i) {\n  var hex = intToHex(i);\n  return Buffer.from(hex.slice(2), 'hex');\n}\n/**\n * Get the binary size of a string\n * @param {String} str\n * @return {Number}\n */\n\n\nfunction getBinarySize(str) {\n  if (typeof str !== 'string') {\n    throw new Error('[ethjs-util] while getting binary size, method getBinarySize requires input \\'str\\' to be type String, got \\'' + typeof str + '\\'.');\n  }\n\n  return Buffer.byteLength(str, 'utf8');\n}\n/**\n * Returns TRUE if the first specified array contains all elements\n * from the second one. FALSE otherwise.\n *\n * @param {array} superset\n * @param {array} subset\n *\n * @returns {boolean}\n */\n\n\nfunction arrayContainsArray(superset, subset, some) {\n  if (Array.isArray(superset) !== true) {\n    throw new Error('[ethjs-util] method arrayContainsArray requires input \\'superset\\' to be an array got type \\'' + typeof superset + '\\'');\n  }\n\n  if (Array.isArray(subset) !== true) {\n    throw new Error('[ethjs-util] method arrayContainsArray requires input \\'subset\\' to be an array got type \\'' + typeof subset + '\\'');\n  }\n\n  return subset[Boolean(some) && 'some' || 'every'](function (value) {\n    return superset.indexOf(value) >= 0;\n  });\n}\n/**\n * Should be called to get utf8 from it's hex representation\n *\n * @method toUtf8\n * @param {String} string in hex\n * @returns {String} ascii string representation of hex value\n */\n\n\nfunction toUtf8(hex) {\n  var bufferValue = new Buffer(padToEven(stripHexPrefix(hex).replace(/^0+|0+$/g, '')), 'hex');\n  return bufferValue.toString('utf8');\n}\n/**\n * Should be called to get ascii from it's hex representation\n *\n * @method toAscii\n * @param {String} string in hex\n * @returns {String} ascii string representation of hex value\n */\n\n\nfunction toAscii(hex) {\n  var str = ''; // eslint-disable-line\n\n  var i = 0,\n      l = hex.length; // eslint-disable-line\n\n  if (hex.substring(0, 2) === '0x') {\n    i = 2;\n  }\n\n  for (; i < l; i += 2) {\n    var code = parseInt(hex.substr(i, 2), 16);\n    str += String.fromCharCode(code);\n  }\n\n  return str;\n}\n/**\n * Should be called to get hex representation (prefixed by 0x) of utf8 string\n *\n * @method fromUtf8\n * @param {String} string\n * @param {Number} optional padding\n * @returns {String} hex representation of input string\n */\n\n\nfunction fromUtf8(stringValue) {\n  var str = new Buffer(stringValue, 'utf8');\n  return '0x' + padToEven(str.toString('hex')).replace(/^0+|0+$/g, '');\n}\n/**\n * Should be called to get hex representation (prefixed by 0x) of ascii string\n *\n * @method fromAscii\n * @param {String} string\n * @param {Number} optional padding\n * @returns {String} hex representation of input string\n */\n\n\nfunction fromAscii(stringValue) {\n  var hex = ''; // eslint-disable-line\n\n  for (var i = 0; i < stringValue.length; i++) {\n    // eslint-disable-line\n    var code = stringValue.charCodeAt(i);\n    var n = code.toString(16);\n    hex += n.length < 2 ? '0' + n : n;\n  }\n\n  return '0x' + hex;\n}\n/**\n * getKeys([{a: 1, b: 2}, {a: 3, b: 4}], 'a') => [1, 3]\n *\n * @method getKeys get specific key from inner object array of objects\n * @param {String} params\n * @param {String} key\n * @param {Boolean} allowEmpty\n * @returns {Array} output just a simple array of output keys\n */\n\n\nfunction getKeys(params, key, allowEmpty) {\n  if (!Array.isArray(params)) {\n    throw new Error('[ethjs-util] method getKeys expecting type Array as \\'params\\' input, got \\'' + typeof params + '\\'');\n  }\n\n  if (typeof key !== 'string') {\n    throw new Error('[ethjs-util] method getKeys expecting type String for input \\'key\\' got \\'' + typeof key + '\\'.');\n  }\n\n  var result = []; // eslint-disable-line\n\n  for (var i = 0; i < params.length; i++) {\n    // eslint-disable-line\n    var value = params[i][key]; // eslint-disable-line\n\n    if (allowEmpty && !value) {\n      value = '';\n    } else if (typeof value !== 'string') {\n      throw new Error('invalid abi');\n    }\n\n    result.push(value);\n  }\n\n  return result;\n}\n/**\n * Is the string a hex string.\n *\n * @method check if string is hex string of specific length\n * @param {String} value\n * @param {Number} length\n * @returns {Boolean} output the string is a hex string\n */\n\n\nfunction isHexString(value, length) {\n  if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n    return false;\n  }\n\n  if (length && value.length !== 2 + 2 * length) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  arrayContainsArray: arrayContainsArray,\n  intToBuffer: intToBuffer,\n  getBinarySize: getBinarySize,\n  isHexPrefixed: isHexPrefixed,\n  stripHexPrefix: stripHexPrefix,\n  padToEven: padToEven,\n  intToHex: intToHex,\n  fromAscii: fromAscii,\n  fromUtf8: fromUtf8,\n  toAscii: toAscii,\n  toUtf8: toUtf8,\n  getKeys: getKeys,\n  isHexString: isHexString\n};","map":{"version":3,"sources":["D:/proj/7color/node_modules/ethjs-format/node_modules/ethjs-util/lib/index.js"],"names":["isHexPrefixed","require","stripHexPrefix","padToEven","value","a","Error","length","intToHex","i","hex","toString","intToBuffer","Buffer","from","slice","getBinarySize","str","byteLength","arrayContainsArray","superset","subset","some","Array","isArray","Boolean","indexOf","toUtf8","bufferValue","replace","toAscii","l","substring","code","parseInt","substr","String","fromCharCode","fromUtf8","stringValue","fromAscii","charCodeAt","n","getKeys","params","key","allowEmpty","result","push","isHexString","match","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar isHexPrefixed = require('is-hex-prefixed');\nvar stripHexPrefix = require('strip-hex-prefix');\n\n/**\n * Pads a `String` to have an even length\n * @param {String} value\n * @return {String} output\n */\nfunction padToEven(value) {\n  var a = value; // eslint-disable-line\n\n  if (typeof a !== 'string') {\n    throw new Error('[ethjs-util] while padding to even, value must be string, is currently ' + typeof a + ', while padToEven.');\n  }\n\n  if (a.length % 2) {\n    a = '0' + a;\n  }\n\n  return a;\n}\n\n/**\n * Converts a `Number` into a hex `String`\n * @param {Number} i\n * @return {String}\n */\nfunction intToHex(i) {\n  var hex = i.toString(16); // eslint-disable-line\n\n  return '0x' + padToEven(hex);\n}\n\n/**\n * Converts an `Number` to a `Buffer`\n * @param {Number} i\n * @return {Buffer}\n */\nfunction intToBuffer(i) {\n  var hex = intToHex(i);\n\n  return Buffer.from(hex.slice(2), 'hex');\n}\n\n/**\n * Get the binary size of a string\n * @param {String} str\n * @return {Number}\n */\nfunction getBinarySize(str) {\n  if (typeof str !== 'string') {\n    throw new Error('[ethjs-util] while getting binary size, method getBinarySize requires input \\'str\\' to be type String, got \\'' + typeof str + '\\'.');\n  }\n\n  return Buffer.byteLength(str, 'utf8');\n}\n\n/**\n * Returns TRUE if the first specified array contains all elements\n * from the second one. FALSE otherwise.\n *\n * @param {array} superset\n * @param {array} subset\n *\n * @returns {boolean}\n */\nfunction arrayContainsArray(superset, subset, some) {\n  if (Array.isArray(superset) !== true) {\n    throw new Error('[ethjs-util] method arrayContainsArray requires input \\'superset\\' to be an array got type \\'' + typeof superset + '\\'');\n  }\n  if (Array.isArray(subset) !== true) {\n    throw new Error('[ethjs-util] method arrayContainsArray requires input \\'subset\\' to be an array got type \\'' + typeof subset + '\\'');\n  }\n\n  return subset[Boolean(some) && 'some' || 'every'](function (value) {\n    return superset.indexOf(value) >= 0;\n  });\n}\n\n/**\n * Should be called to get utf8 from it's hex representation\n *\n * @method toUtf8\n * @param {String} string in hex\n * @returns {String} ascii string representation of hex value\n */\nfunction toUtf8(hex) {\n  var bufferValue = new Buffer(padToEven(stripHexPrefix(hex).replace(/^0+|0+$/g, '')), 'hex');\n\n  return bufferValue.toString('utf8');\n}\n\n/**\n * Should be called to get ascii from it's hex representation\n *\n * @method toAscii\n * @param {String} string in hex\n * @returns {String} ascii string representation of hex value\n */\nfunction toAscii(hex) {\n  var str = ''; // eslint-disable-line\n  var i = 0,\n      l = hex.length; // eslint-disable-line\n\n  if (hex.substring(0, 2) === '0x') {\n    i = 2;\n  }\n\n  for (; i < l; i += 2) {\n    var code = parseInt(hex.substr(i, 2), 16);\n    str += String.fromCharCode(code);\n  }\n\n  return str;\n}\n\n/**\n * Should be called to get hex representation (prefixed by 0x) of utf8 string\n *\n * @method fromUtf8\n * @param {String} string\n * @param {Number} optional padding\n * @returns {String} hex representation of input string\n */\nfunction fromUtf8(stringValue) {\n  var str = new Buffer(stringValue, 'utf8');\n\n  return '0x' + padToEven(str.toString('hex')).replace(/^0+|0+$/g, '');\n}\n\n/**\n * Should be called to get hex representation (prefixed by 0x) of ascii string\n *\n * @method fromAscii\n * @param {String} string\n * @param {Number} optional padding\n * @returns {String} hex representation of input string\n */\nfunction fromAscii(stringValue) {\n  var hex = ''; // eslint-disable-line\n  for (var i = 0; i < stringValue.length; i++) {\n    // eslint-disable-line\n    var code = stringValue.charCodeAt(i);\n    var n = code.toString(16);\n    hex += n.length < 2 ? '0' + n : n;\n  }\n\n  return '0x' + hex;\n}\n\n/**\n * getKeys([{a: 1, b: 2}, {a: 3, b: 4}], 'a') => [1, 3]\n *\n * @method getKeys get specific key from inner object array of objects\n * @param {String} params\n * @param {String} key\n * @param {Boolean} allowEmpty\n * @returns {Array} output just a simple array of output keys\n */\nfunction getKeys(params, key, allowEmpty) {\n  if (!Array.isArray(params)) {\n    throw new Error('[ethjs-util] method getKeys expecting type Array as \\'params\\' input, got \\'' + typeof params + '\\'');\n  }\n  if (typeof key !== 'string') {\n    throw new Error('[ethjs-util] method getKeys expecting type String for input \\'key\\' got \\'' + typeof key + '\\'.');\n  }\n\n  var result = []; // eslint-disable-line\n\n  for (var i = 0; i < params.length; i++) {\n    // eslint-disable-line\n    var value = params[i][key]; // eslint-disable-line\n    if (allowEmpty && !value) {\n      value = '';\n    } else if (typeof value !== 'string') {\n      throw new Error('invalid abi');\n    }\n    result.push(value);\n  }\n\n  return result;\n}\n\n/**\n * Is the string a hex string.\n *\n * @method check if string is hex string of specific length\n * @param {String} value\n * @param {Number} length\n * @returns {Boolean} output the string is a hex string\n */\nfunction isHexString(value, length) {\n  if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n    return false;\n  }\n\n  if (length && value.length !== 2 + 2 * length) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  arrayContainsArray: arrayContainsArray,\n  intToBuffer: intToBuffer,\n  getBinarySize: getBinarySize,\n  isHexPrefixed: isHexPrefixed,\n  stripHexPrefix: stripHexPrefix,\n  padToEven: padToEven,\n  intToHex: intToHex,\n  fromAscii: fromAscii,\n  fromUtf8: fromUtf8,\n  toAscii: toAscii,\n  toUtf8: toUtf8,\n  getKeys: getKeys,\n  isHexString: isHexString\n};"]},"metadata":{},"sourceType":"script"}